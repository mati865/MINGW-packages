From: Ray Donnelly <mingw.android@gmail.com>
Date: Sun, 28 Sep 2014 23:12:28 +0100
Subject: [PATCH 05/14] Use '/' instead of QDir::separator()

---
diff -urN octopi-0.8.1.orig/src/constants.h octopi-0.8.1/src/constants.h
--- octopi-0.8.1.orig/src/constants.h	2016-03-27 21:54:26.000000000 +0200
+++ octopi-0.8.1/src/constants.h	2016-04-03 21:38:25.379689600 +0200
@@ -83,7 +83,7 @@
 const QString ctn_KEEP_NUM_UNINSTALLED("Keep_Num_Uninstalled");
 
 //Package related
-const QString ctn_TEMP_ACTIONS_FILE ( QDir::tempPath() + QDir::separator() + ".qt_temp_" );
+const QString ctn_TEMP_ACTIONS_FILE ( QDir::tempPath() + QLatin1Char('/') + ".qt_temp_" );
 const QString ctn_PACMAN_DATABASE_DIR = "/var/lib/pacman";
 const QString ctn_PACMAN_CORE_DB_FILE = "/var/lib/pacman/sync/core.db";
 
diff -urN octopi-0.8.1.orig/src/settingsmanager.h octopi-0.8.1/src/settingsmanager.h
--- octopi-0.8.1.orig/src/settingsmanager.h	2016-03-27 21:54:26.000000000 +0200
+++ octopi-0.8.1/src/settingsmanager.h	2016-04-03 21:38:23.021546100 +0200
@@ -47,7 +47,7 @@
     static QString getOctopiConfPath()
     {
       return QDir::homePath() +
-          QDir::separator() + ".config/octopi/octopi.conf";
+          QLatin1Char('/') + ".config/octopi/octopi.conf";
     }
 
     static int getCurrentTabIndex();
diff -urN octopi-0.8.1.orig/src/utils.cpp octopi-0.8.1/src/utils.cpp
--- octopi-0.8.1.orig/src/utils.cpp	2016-04-03 21:38:03.248971500 +0200
+++ octopi-0.8.1/src/utils.cpp	2016-04-03 21:38:28.678285900 +0200
@@ -242,17 +242,17 @@
       if ( nindex != sim->invisibleRootItem()->index() ) sl << sim->itemFromIndex( nindex )->text();
       else break;
     }
-    str = QDir::separator() + str;
+    str = QLatin1Char('/') + str;
 
     for ( int i=sl.count()-1; i>=0; i-- ){
-      if ( i < sl.count()-1 ) str += QDir::separator();
+      if ( i < sl.count()-1 ) str += QLatin1Char('/');
       str += sl[i];
     }
 
     QFileInfo fileInfo(str);
     if (fileInfo.isDir())
     {
-      str += QDir::separator();
+      str += QLatin1Char('/');
     }
   }
 
@@ -302,8 +302,8 @@
 
   LinuxDistro distro = UnixCommand::getLinuxDistro();
   QString res;
-  QString tmpRssPath = QDir::homePath() + QDir::separator() + ".config/octopi/.tmp_distro_rss.xml";
-  QString rssPath = QDir::homePath() + QDir::separator() + ".config/octopi/distro_rss.xml";
+  QString tmpRssPath = QDir::homePath() + QLatin1Char('/') + ".config/octopi/.tmp_distro_rss.xml";
+  QString rssPath = QDir::homePath() + QLatin1Char('/') + ".config/octopi/distro_rss.xml";
   QString contentsRss;
 
   QFile fileRss(rssPath);
@@ -472,7 +472,7 @@
     html = "<p align=\"center\"><h2>" + StrConstants::getParabolaNews() + "</h2></p><ul>";
   }
 
-  QString rssPath = QDir::homePath() + QDir::separator() + ".config/octopi/distro_rss.xml";
+  QString rssPath = QDir::homePath() + QLatin1Char('/') + ".config/octopi/distro_rss.xml";
   QDomDocument doc("rss");
   int itemCounter=0;

